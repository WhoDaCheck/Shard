<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Galéria – Flashback</title>
  <link rel="stylesheet" href="style.css">
</head>

<body class="gallery-page">

<header class="site-header">
  <div class="logo">Flashback</div>

  <nav class="main-nav">
    <div class="nav-left">
      <a href="./index.html">Kezdőlap</a>
      <a href="./index.html#portrait">Portré</a>
      <a href="./index.html#street">Street</a>
      <a href="./index.html#about">Névjegy</a>
      <a href="./index.html#contact">Kapcsolat</a>
    </div>
    <div class="nav-right">
      <a href="./gallery.html" class="is-active">Galéria</a>
    </div>
  </nav>
</header>

<main>

  <!-- ================= PORTRÉ ================= -->
  <section class="gallery-section">
    <h2 class="gallery-title">PORTRÉ</h2>

    <div class="mosaic-grid">
      <img src="./images/gallery/swipe-portrait/sp1.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp2.jpg" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp3.jpg" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp4.jpeg" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp5.jpg" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp6.jpg" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp7.jpeg" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp8.jpeg" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp9.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp10.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp11.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp12.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp13.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp14.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp15.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp16.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp17.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp18.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp19.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp20.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp21.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp22.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp23.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-portrait/sp24.JPEG" loading="lazy">
    </div>
  </section>

  <!-- ================= STREET ================= -->
  <section class="gallery-section">
    <h2 class="gallery-title">STREET</h2>

    <div class="mosaic-grid">
      <img src="./images/gallery/swipe-street/ss1.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss2.jpg" loading="lazy">
      <img src="./images/gallery/swipe-street/ss3.jpeg" loading="lazy">
      <img src="./images/gallery/swipe-street/ss4.jpg" loading="lazy">
      <img src="./images/gallery/swipe-street/ss5.jpeg" loading="lazy">
      <img src="./images/gallery/swipe-street/ss6.jpg" loading="lazy">
      <img src="./images/gallery/swipe-street/ss7.jpeg" loading="lazy">
      <img src="./images/gallery/swipe-street/ss8.jpg" loading="lazy">
      <img src="./images/gallery/swipe-street/ss9.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss10.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss11.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss12.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss13.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss14.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss15.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss16.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss17.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss18.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss19.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss20.JPEG" loading="lazy">
      <img src="./images/gallery/swipe-street/ss21.JPEG" loading="lazy">
    </div>
  </section>

</main>

<!-- ================= LIGHTBOX ================= -->

<div class="lightbox" id="lightbox">
  <img src="" alt="">
</div>

<script>
/* ========== SCROLL-ALAPÚ OLVADÁS ========== */

const images = document.querySelectorAll('.mosaic-grid img');

function updateFade() {
  const vh = window.innerHeight;

  images.forEach(img => {
    const rect = img.getBoundingClientRect();
    const start = vh * 0.8;
    const end   = vh * 0.2;

    let fade = 0;

    if (rect.top < start && rect.bottom > end) {
      const visibleTop = Math.min(start, rect.bottom);
      const visibleBottom = Math.max(end, rect.top);
      const visibleHeight = visibleTop - visibleBottom;
      const maxHeight = Math.min(rect.height, start - end);
      fade = Math.max(0, Math.min(1, visibleHeight / maxHeight));
    }

    img.style.opacity = fade.toFixed(2);
  });
}

window.addEventListener('scroll', updateFade, { passive: true });
window.addEventListener('resize', updateFade);
updateFade();
</script>

<script src="script.js"></script>

<div class="scroll-fade-overlay"></div>
</body>
</html>
